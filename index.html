<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Apple Music Style Player</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    background: #f2f2f7;
    color: #1c1c1e;
    margin: 0; padding: 20px;
  }
  .player {
    max-width: 600px;
    margin: auto;
    background: white;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 6px 12px rgba(0,0,0,0.1);
  }
  .song-list {
    list-style: none;
    padding: 0;
    margin: 0 0 20px 0;
    max-height: 300px;
    overflow-y: auto;
  }
  .song-list li {
    display: flex;
    align-items: center;
    padding: 10px;
    cursor: pointer;
    border-radius: 8px;
    transition: background 0.2s;
  }
  .song-list li:hover {
    background: #e5e5ea;
  }
  .song-list img {
    width: 50px;
    height: 50px;
    border-radius: 6px;
    object-fit: cover;
    margin-right: 15px;
  }
  .song-info {
    flex-grow: 1;
  }
  .song-title {
    font-weight: 600;
    font-size: 16px;
  }
  .song-artist {
    font-size: 14px;
    color: #6e6e73;
  }
  audio {
    width: 100%;
    outline: none;
  }
</style>
</head>
<body>
  <div class="player">
    <ul class="song-list" id="songList"></ul>
    <audio controls id="audioPlayer" preload="none">
      Your browser does not support the audio element.
    </audio>
  </div>

<script>
  const jsonUrl = 'https://raw.githubusercontent.com/bobobo1343/APPLEMUSICSONGSJSON/refs/heads/main/songs.json';

  const songList = document.getElementById('songList');
  const audioPlayer = document.getElementById('audioPlayer');

  let songs = [];

  fetch(jsonUrl)
    .then(res => res.json())
    .then(data => {
      songs = data.songs || data; // tries "songs" key, or root array
      renderSongs(songs);
      if (songs.length > 0) {
        loadSong(0);
      }
    })
    .catch(e => {
      songList.innerHTML = `<li>Error loading songs: ${e.message}</li>`;
    });

  function renderSongs(songs) {
    songList.innerHTML = '';
    songs.forEach((song, i) => {
      const li = document.createElement('li');
      li.innerHTML = `
        <img src="${song.artwork || 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/Spotify_logo_without_text.svg/1200px-Spotify_logo_without_text.svg.png'}" alt="artwork" />
        <div class="song-info">
          <div class="song-title">${song.title || song.name}</div>
          <div class="song-artist">${song.artist || 'Unknown Artist'}</div>
        </div>
      `;
      li.onclick = () => loadSong(i);
      songList.appendChild(li);
    });
  }

  function loadSong(index) {
    const song = songs[index];
    audioPlayer.src = song.audio || song.url || song.webContentLink || '';
    audioPlayer.play();
  }
</script>
</body>
</html>
